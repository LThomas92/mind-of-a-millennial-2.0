{"ast":null,"code":"var _jsxFileName = \"/Users/Lawrence/Desktop/mind-of-a-millennial/client/src/components/Login.js\";\nimport React from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport AxiosAPI from \"./AxiosAPI\";\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      username: \"\",\n      password: \"\",\n      redirectTo: null\n    };\n    this.onChangeUser = this.onChangeUser.bind(this);\n    this.onChangePassword = this.onChangePassword.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  onChangeUser(event) {\n    this.setState({\n      username: event.target.value\n    });\n  }\n\n  onChangePassword(event) {\n    this.setState({\n      password: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    console.log(\"handleSubmit\");\n    AxiosAPI.post(\"/login\", {\n      username: this.state.username,\n      password: this.state.password\n    }).then(response => {\n      console.log(\"login response: \");\n      console.log(response);\n\n      if (response.status === 200) {\n        //UPDATE STATE\n        this.props.updateUser({\n          loggedIn: true,\n          username: response.data.username\n        }); //Redirect to homepage\n\n        this.setState({\n          redirectTo: \"/\"\n        });\n      }\n    }).catch(error => {\n      console.log(\"login error:\");\n      console.log(error);\n    });\n  }\n\n  render() {\n    if (this.state.redirectTo) {\n      return React.createElement(Redirect, {\n        to: {\n          pathname: this.state.redirectTo\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(\"section\", {\n        className: \"section-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"login__form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: \"form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"u-margin-bottom-medium\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"heading-secondary u-center-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Login\")), React.createElement(\"div\", {\n        className: \"form__group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form__input\",\n        placeholder: \"Username\",\n        id: \"username\",\n        required: true,\n        value: this.state.username,\n        onChange: this.onChangeUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        className: \"form__label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Username\")), React.createElement(\"div\", {\n        className: \"form__group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"password\",\n        className: \"form__input\",\n        placeholder: \"Password\",\n        id: \"email\",\n        required: true,\n        value: this.state.password,\n        onChange: this.onChangePassword,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        className: \"form__label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"Password\")), React.createElement(\"button\", {\n        onClick: this.handleSubmit,\n        className: \"btn btn--white btn--animated\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Login\")))))));\n    }\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/Lawrence/Desktop/mind-of-a-millennial/client/src/components/Login.js"],"names":["React","Redirect","AxiosAPI","Login","Component","constructor","state","username","password","redirectTo","onChangeUser","bind","onChangePassword","handleSubmit","event","setState","target","value","preventDefault","console","log","post","then","response","status","props","updateUser","loggedIn","data","catch","error","render","pathname"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport AxiosAPI from \"./AxiosAPI\";\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      username: \"\",\n      password: \"\",\n      redirectTo: null\n    };\n    this.onChangeUser = this.onChangeUser.bind(this);\n    this.onChangePassword = this.onChangePassword.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  onChangeUser(event) {\n    this.setState({\n      username: event.target.value\n    });\n  }\n\n  onChangePassword(event) {\n    this.setState({\n      password: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    console.log(\"handleSubmit\");\n\n    AxiosAPI.post(\"/login\", {\n      username: this.state.username,\n      password: this.state.password\n    })\n      .then(response => {\n        console.log(\"login response: \");\n        console.log(response);\n        if (response.status === 200) {\n          //UPDATE STATE\n          this.props.updateUser({\n            loggedIn: true,\n            username: response.data.username\n          });\n          //Redirect to homepage\n          this.setState({\n            redirectTo: \"/\"\n          });\n        }\n      })\n      .catch(error => {\n        console.log(\"login error:\");\n        console.log(error);\n      });\n  }\n\n  render() {\n    if (this.state.redirectTo) {\n      return <Redirect to={{ pathname: this.state.redirectTo }} />;\n    } else {\n      return (\n        <section className=\"section-form\">\n          <div className=\"row\">\n            <div className=\"login\">\n              <div className=\"login__form\">\n                <div className=\"container\">\n                  <form className=\"form\">\n                    <div className=\"u-margin-bottom-medium\">\n                      <h2 className=\"heading-secondary u-center-text\">Login</h2>\n                    </div>\n                    <div className=\"form__group\">\n                      <input\n                        type=\"text\"\n                        className=\"form__input\"\n                        placeholder=\"Username\"\n                        id=\"username\"\n                        required\n                        value={this.state.username}\n                        onChange={this.onChangeUser}\n                      />\n                      <label className=\"form__label\">Username</label>\n                    </div>\n                    <div className=\"form__group\">\n                      <input\n                        type=\"password\"\n                        className=\"form__input\"\n                        placeholder=\"Password\"\n                        id=\"email\"\n                        required\n                        value={this.state.password}\n                        onChange={this.onChangePassword}\n                      />\n                      <label className=\"form__label\">Password</label>\n                    </div>\n                    <button\n                      onClick={this.handleSubmit}\n                      className=\"btn btn--white btn--animated\"\n                    >\n                      Login\n                    </button>\n                  </form>\n                </div>\n              </div>\n            </div>\n          </div>\n        </section>\n      );\n    }\n  }\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}