{"ast":null,"code":"var _jsxFileName = \"/Users/Lawrence/Desktop/mind-of-a-millennial/client/src/components/Login.js\";\nimport React from \"react\";\nimport AxiosAPI from \"./AxiosAPI\";\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n\n    this.onChange = e => {\n      const state = this.state;\n      state[e.target.name] = e.target.value;\n      this.setState(state);\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const _this$state = this.state,\n            username = _this$state.username,\n            password = _this$state.password;\n      AxiosAPI.post('/api/auth/login', {\n        username,\n        password\n      }).then(result => {\n        localStorage.setItem('jwtToken', result.data.token);\n        this.setState({\n          message: ''\n        });\n        this.props.history.push('/');\n      }).catch(error => {\n        if (error.response.status === 401) {\n          this.setState({\n            message: 'Login failed. Username or password not match'\n          });\n        }\n      });\n    };\n\n    this.state = {\n      username: '',\n      password: '',\n      message: ''\n    };\n  }\n\n  render() {\n    const _this$state2 = this.state,\n          username = _this$state2.username,\n          password = _this$state2.password,\n          message = _this$state2.message;\n    return React.createElement(\"section\", {\n      className: \"section-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"login__form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"form\",\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, message !== '' && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, message), React.createElement(\"div\", {\n      className: \"u-margin-bottom-medium\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"heading-secondary u-center-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"Login\")), React.createElement(\"div\", {\n      className: \"form__group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form__input\",\n      placeholder: \"Username\",\n      id: \"username\",\n      required: true,\n      value: username,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"form__label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"Username\")), React.createElement(\"div\", {\n      className: \"form__group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form__input\",\n      placeholder: \"Password\",\n      id: \"email\",\n      required: true,\n      value: password,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"form__label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Password\")), React.createElement(\"button\", {\n      className: \"btn btn--white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Login\")))))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/Lawrence/Desktop/mind-of-a-millennial/client/src/components/Login.js"],"names":["React","AxiosAPI","Login","Component","constructor","onChange","e","state","target","name","value","setState","onSubmit","preventDefault","username","password","post","then","result","localStorage","setItem","data","token","message","props","history","push","catch","error","response","status","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport AxiosAPI from \"./AxiosAPI\";\n\nclass Login extends React.Component {\n\n  constructor() {\n    super();\n    this.state = {\n      username: '',\n      password: '',\n      message: ''\n    };\n  }\n  onChange = (e) => {\n    const state = this.state\n    state[e.target.name] = e.target.value;\n    this.setState(state);\n  }\n\n  onSubmit = (e) => {\n    e.preventDefault();\n\n    const { username, password } = this.state;\n\n    AxiosAPI.post('/api/auth/login', { username, password })\n      .then((result) => {\n        localStorage.setItem('jwtToken', result.data.token);\n        this.setState({ message: '' });\n        this.props.history.push('/')\n      })\n      .catch((error) => {\n        if(error.response.status === 401) {\n          this.setState({ message: 'Login failed. Username or password not match' });\n        }\n      });\n  }\n\n  render() {\n    const { username, password, message} = this.state;\n      return (\n        <section className=\"section-form\">\n          <div className=\"row\">\n            <div className=\"login\">\n              <div className=\"login__form\">\n                <div className=\"container\">\n                  <form className=\"form\" onSubmit ={this.onSubmit} >\n                  {message !== '' &&\n                    <div>\n                      {message}\n                    </div>\n                  }\n                    <div className=\"u-margin-bottom-medium\">\n                      <h2 className=\"heading-secondary u-center-text\">Login</h2>\n                    </div>\n                    <div className=\"form__group\">\n                      <input\n                        type=\"text\"\n                        className=\"form__input\"\n                        placeholder=\"Username\"\n                        id=\"username\"\n                        required\n                        value={username}\n                        onChange={this.onChange}\n                      />\n                      <label className=\"form__label\">Username</label>\n                    </div>\n                    <div className=\"form__group\">\n                      <input\n                        type=\"password\"\n                        className=\"form__input\"\n                        placeholder=\"Password\"\n                        id=\"email\"\n                        required\n                        value={password}\n                        onChange={this.onChange}\n                      />\n                      <label className=\"form__label\">Password</label>\n                    </div>\n                    <button\n                      className=\"btn btn--white\"\n                    >\n                      Login\n                    </button>\n                  </form>\n                </div>\n              </div>\n            </div>\n          </div>\n        </section>\n      );\n    }\n  }\n\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}