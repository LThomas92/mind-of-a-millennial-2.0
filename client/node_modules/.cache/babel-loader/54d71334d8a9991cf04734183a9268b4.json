{"ast":null,"code":"var _jsxFileName = \"/Users/Lawrence/Desktop/mind-of-a-millennial/client/src/components/articles/ArticleForm.js\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { addArticle } from \"../../actions/articleActions\";\nimport { Editor } from \"slate-react\";\nimport { Value } from \"slate\";\nconst initialValue = Value.fromJSON({\n  document: {\n    nodes: [{\n      object: \"block\",\n      type: \"paragraph\",\n      nodes: [{\n        object: \"text\",\n        text: \"A line of text in a paragraph.\"\n      }]\n    }]\n  }\n});\n\nfunction MarkHotkey(options) {\n  const type = options.type,\n        key = options.key; // Return our \"plugin\" object, containing the `onKeyDown` handler.\n\n  return {\n    onKeyDown(event, editor, next) {\n      // If it doesn't match our `key`, let other plugins handle it.\n      if (!event.ctrlKey || event.key != key) return next(); // Prevent the default characters from being inserted.\n\n      event.preventDefault(); // Toggle the mark `type`.\n\n      editor.toggleMark(type);\n    }\n\n  };\n}\n\nconst plugins = [MarkHotkey({\n  key: \"b\",\n  type: \"bold\"\n}), MarkHotkey({\n  key: \"`\",\n  type: \"code\"\n}), MarkHotkey({\n  key: \"i\",\n  type: \"italic\"\n}), MarkHotkey({\n  key: \"~\",\n  type: \"strikethrough\"\n}), MarkHotkey({\n  key: \"u\",\n  type: \"underline\"\n})];\n\nrenderMark = (props, editor, next) => {\n  switch (props.mark.type) {\n    case \"bold\":\n      return React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, props.children);\n    // Add our new mark renderers...\n\n    case \"code\":\n      return React.createElement(\"code\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, props.children);\n\n    case \"italic\":\n      return React.createElement(\"em\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, props.children);\n\n    case \"strikethrough\":\n      return React.createElement(\"del\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, props.children);\n\n    case \"underline\":\n      return React.createElement(\"u\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, props.children);\n\n    default:\n      return next();\n  }\n};\n\nclass ArticleForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeTitle = e => {\n      this.setState({\n        title: e.target.value\n      });\n    };\n\n    this.onChangeImgSource = e => {\n      this.setState({\n        imgSource: e.target.value\n      });\n    };\n\n    this.onChangeImage = e => {\n      this.setState({\n        image: e.target.files[0]\n      });\n    };\n\n    this.onChange = value => {\n      this.setState({\n        value\n      });\n    };\n\n    this.onChangeCategory = e => {\n      this.setState({\n        category: e.target.value\n      });\n    };\n\n    this.state = {\n      title: \"\",\n      imgSource: \"\",\n      image: \"\",\n      value: initialValue,\n      category: \"\",\n      errors: {}\n    };\n    this.onChangeTitle = this.onChangeTitle.bind(this);\n    this.onChangeImgSource = this.onChangeImgSource.bind(this);\n    this.onChangeImage = this.onChangeImage.bind(this);\n    this.onChangeCategory = this.onChangeCategory.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (newProps) {\n      this.setState({\n        errors: newProps.errors\n      });\n    }\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    let formData = new FormData();\n    formData.append(\"title\", this.state.title);\n    formData.append(\"image\", this.state.image);\n    formData.append(\"imgSource\", this.state.imgSource);\n    formData.append(\"value\", this.state.value);\n    formData.append(\"category\", this.state.category);\n    this.props.addArticle(formData);\n    this.setState({\n      title: \"\",\n      imgSource: \"\",\n      image: \"\",\n      value: \"\",\n      category: \"\"\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"form-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"Create A New Article\"), React.createElement(\"form\", {\n      className: \"form\",\n      onSubmit: this.onSubmit,\n      encType: \"multipart/form-data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"form__label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"Article Title\"), React.createElement(\"div\", {\n      className: \"form__group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Enter Article Title\",\n      value: this.state.title,\n      onChange: this.onChangeTitle,\n      className: \"form__input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form__group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"form__label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \"Upload Image\"), React.createElement(\"input\", {\n      type: \"file\",\n      onChange: this.onChangeImage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form__group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"form__label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \"Image Source\"), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Enter Image Source\",\n      value: this.state.imgSource,\n      onChange: this.onChangeImgSource,\n      className: \"form__input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      className: \"form__label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, \"Article Category\"), React.createElement(\"div\", {\n      className: \"form__group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Enter Article Category\",\n      className: \"form__input\",\n      onChange: this.onChangeCategory,\n      value: this.state.category,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form__group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"form__label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, \"Content\"), React.createElement(Editor, {\n      value: this.state.value,\n      plugins: plugins,\n      onChange: this.onChange,\n      renderMark: this.renderMark,\n      className: \"form__text\",\n      placeholder: \"Write something...\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"submit-btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, \"Submit\"))));\n  }\n\n}\n\nArticleForm.propTypes = {\n  addArticle: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n});\n\nexport default connect(mapStateToProps, {\n  addArticle\n})(ArticleForm);","map":{"version":3,"sources":["/Users/Lawrence/Desktop/mind-of-a-millennial/client/src/components/articles/ArticleForm.js"],"names":["React","PropTypes","connect","addArticle","Editor","Value","initialValue","fromJSON","document","nodes","object","type","text","MarkHotkey","options","key","onKeyDown","event","editor","next","ctrlKey","preventDefault","toggleMark","plugins","renderMark","props","mark","children","ArticleForm","Component","constructor","onChangeTitle","e","setState","title","target","value","onChangeImgSource","imgSource","onChangeImage","image","files","onChange","onChangeCategory","category","state","errors","bind","onSubmit","componentWillReceiveProps","newProps","formData","FormData","append","render","propTypes","func","isRequired","auth","mapStateToProps"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,QAA2B,8BAA3B;AACA,SAASC,MAAT,QAAuB,aAAvB;AACA,SAASC,KAAT,QAAsB,OAAtB;AAEA,MAAMC,YAAY,GAAGD,KAAK,CAACE,QAAN,CAAe;AAClCC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,KAAK,EAAE,CACL;AACEC,MAAAA,MAAM,EAAE,OADV;AAEEC,MAAAA,IAAI,EAAE,WAFR;AAGEF,MAAAA,KAAK,EAAE,CACL;AACEC,QAAAA,MAAM,EAAE,MADV;AAEEE,QAAAA,IAAI,EAAE;AAFR,OADK;AAHT,KADK;AADC;AADwB,CAAf,CAArB;;AAiBA,SAASC,UAAT,CAAoBC,OAApB,EAA6B;AAAA,QACnBH,IADmB,GACLG,OADK,CACnBH,IADmB;AAAA,QACbI,GADa,GACLD,OADK,CACbC,GADa,EAG3B;;AACA,SAAO;AACLC,IAAAA,SAAS,CAACC,KAAD,EAAQC,MAAR,EAAgBC,IAAhB,EAAsB;AAC7B;AACA,UAAI,CAACF,KAAK,CAACG,OAAP,IAAkBH,KAAK,CAACF,GAAN,IAAaA,GAAnC,EAAwC,OAAOI,IAAI,EAAX,CAFX,CAI7B;;AACAF,MAAAA,KAAK,CAACI,cAAN,GAL6B,CAO7B;;AACAH,MAAAA,MAAM,CAACI,UAAP,CAAkBX,IAAlB;AACD;;AAVI,GAAP;AAYD;;AAED,MAAMY,OAAO,GAAG,CACdV,UAAU,CAAC;AAAEE,EAAAA,GAAG,EAAE,GAAP;AAAYJ,EAAAA,IAAI,EAAE;AAAlB,CAAD,CADI,EAEdE,UAAU,CAAC;AAAEE,EAAAA,GAAG,EAAE,GAAP;AAAYJ,EAAAA,IAAI,EAAE;AAAlB,CAAD,CAFI,EAGdE,UAAU,CAAC;AAAEE,EAAAA,GAAG,EAAE,GAAP;AAAYJ,EAAAA,IAAI,EAAE;AAAlB,CAAD,CAHI,EAIdE,UAAU,CAAC;AAAEE,EAAAA,GAAG,EAAE,GAAP;AAAYJ,EAAAA,IAAI,EAAE;AAAlB,CAAD,CAJI,EAKdE,UAAU,CAAC;AAAEE,EAAAA,GAAG,EAAE,GAAP;AAAYJ,EAAAA,IAAI,EAAE;AAAlB,CAAD,CALI,CAAhB;;AAQAa,UAAU,GAAG,CAACC,KAAD,EAAQP,MAAR,EAAgBC,IAAhB,KAAyB;AACpC,UAAQM,KAAK,CAACC,IAAN,CAAWf,IAAnB;AACE,SAAK,MAAL;AACE,aAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAASc,KAAK,CAACE,QAAf,CAAP;AACF;;AACA,SAAK,MAAL;AACE,aAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAOF,KAAK,CAACE,QAAb,CAAP;;AACF,SAAK,QAAL;AACE,aAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKF,KAAK,CAACE,QAAX,CAAP;;AACF,SAAK,eAAL;AACE,aAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAMF,KAAK,CAACE,QAAZ,CAAP;;AACF,SAAK,WAAL;AACE,aAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAIF,KAAK,CAACE,QAAV,CAAP;;AACF;AACE,aAAOR,IAAI,EAAX;AAbJ;AAeD,CAhBD;;AAkBA,MAAMS,WAAN,SAA0B5B,KAAK,CAAC6B,SAAhC,CAA0C;AACxCC,EAAAA,WAAW,CAACL,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAwBnBM,aAxBmB,GAwBHC,CAAC,IAAI;AACnB,WAAKC,QAAL,CAAc;AAAEC,QAAAA,KAAK,EAAEF,CAAC,CAACG,MAAF,CAASC;AAAlB,OAAd;AACD,KA1BkB;;AAAA,SA4BnBC,iBA5BmB,GA4BCL,CAAC,IAAI;AACvB,WAAKC,QAAL,CAAc;AAAEK,QAAAA,SAAS,EAAEN,CAAC,CAACG,MAAF,CAASC;AAAtB,OAAd;AACD,KA9BkB;;AAAA,SAgCnBG,aAhCmB,GAgCHP,CAAC,IAAI;AACnB,WAAKC,QAAL,CAAc;AAAEO,QAAAA,KAAK,EAAER,CAAC,CAACG,MAAF,CAASM,KAAT,CAAe,CAAf;AAAT,OAAd;AACD,KAlCkB;;AAAA,SAoCnBC,QApCmB,GAoCRN,KAAK,IAAI;AAClB,WAAKH,QAAL,CAAc;AAAEG,QAAAA;AAAF,OAAd;AACD,KAtCkB;;AAAA,SAwCnBO,gBAxCmB,GAwCAX,CAAC,IAAI;AACtB,WAAKC,QAAL,CAAc;AAAEW,QAAAA,QAAQ,EAAEZ,CAAC,CAACG,MAAF,CAASC;AAArB,OAAd;AACD,KA1CkB;;AAEjB,SAAKS,KAAL,GAAa;AACXX,MAAAA,KAAK,EAAE,EADI;AAEXI,MAAAA,SAAS,EAAE,EAFA;AAGXE,MAAAA,KAAK,EAAE,EAHI;AAIXJ,MAAAA,KAAK,EAAE9B,YAJI;AAKXsC,MAAAA,QAAQ,EAAE,EALC;AAMXE,MAAAA,MAAM,EAAE;AANG,KAAb;AASA,SAAKf,aAAL,GAAqB,KAAKA,aAAL,CAAmBgB,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKV,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBU,IAAvB,CAA4B,IAA5B,CAAzB;AACA,SAAKR,aAAL,GAAqB,KAAKA,aAAL,CAAmBQ,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKJ,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBI,IAAtB,CAA2B,IAA3B,CAAxB;AACA,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcD,IAAd,CAAmB,IAAnB,CAAhB;AACD;;AAEDE,EAAAA,yBAAyB,CAACC,QAAD,EAAW;AAClC,QAAIA,QAAJ,EAAc;AACZ,WAAKjB,QAAL,CAAc;AAAEa,QAAAA,MAAM,EAAEI,QAAQ,CAACJ;AAAnB,OAAd;AACD;AACF;;AAsBDE,EAAAA,QAAQ,CAAChB,CAAD,EAAI;AACVA,IAAAA,CAAC,CAACX,cAAF;AAEA,QAAI8B,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyB,KAAKR,KAAL,CAAWX,KAApC;AACAiB,IAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyB,KAAKR,KAAL,CAAWL,KAApC;AACAW,IAAAA,QAAQ,CAACE,MAAT,CAAgB,WAAhB,EAA6B,KAAKR,KAAL,CAAWP,SAAxC;AACAa,IAAAA,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAyB,KAAKR,KAAL,CAAWT,KAApC;AACAe,IAAAA,QAAQ,CAACE,MAAT,CAAgB,UAAhB,EAA4B,KAAKR,KAAL,CAAWD,QAAvC;AAEA,SAAKnB,KAAL,CAAWtB,UAAX,CAAsBgD,QAAtB;AACA,SAAKlB,QAAL,CAAc;AACZC,MAAAA,KAAK,EAAE,EADK;AAEZI,MAAAA,SAAS,EAAE,EAFC;AAGZE,MAAAA,KAAK,EAAE,EAHK;AAIZJ,MAAAA,KAAK,EAAE,EAJK;AAKZQ,MAAAA,QAAQ,EAAE;AALE,KAAd;AAOD;;AAEDU,EAAAA,MAAM,GAAG;AACP,WACE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,SAAS,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADF,EAEE;AACE,MAAA,SAAS,EAAC,MADZ;AAEE,MAAA,QAAQ,EAAE,KAAKN,QAFjB;AAGE,MAAA,OAAO,EAAC,qBAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKE;AAAO,MAAA,SAAS,EAAC,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBALF,EAME;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,WAAW,EAAC,qBAFd;AAGE,MAAA,KAAK,EAAE,KAAKH,KAAL,CAAWX,KAHpB;AAIE,MAAA,QAAQ,EAAE,KAAKH,aAJjB;AAKE,MAAA,SAAS,EAAC,aALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CANF,EAeE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,SAAS,EAAC,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,EAEE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,QAAQ,EAAE,KAAKQ,aAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAfF,EAmBE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,SAAS,EAAC,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,EAEE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,WAAW,EAAC,oBAFd;AAGE,MAAA,KAAK,EAAE,KAAKM,KAAL,CAAWP,SAHpB;AAIE,MAAA,QAAQ,EAAE,KAAKD,iBAJjB;AAKE,MAAA,SAAS,EAAC,aALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAnBF,EA6BE;AAAO,MAAA,SAAS,EAAC,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BA7BF,EA8BE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,WAAW,EAAC,wBAFd;AAGE,MAAA,SAAS,EAAC,aAHZ;AAIE,MAAA,QAAQ,EAAE,KAAKM,gBAJjB;AAKE,MAAA,KAAK,EAAE,KAAKE,KAAL,CAAWD,QALpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CA9BF,EAuCE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,SAAS,EAAC,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,EAEE,oBAAC,MAAD;AACE,MAAA,KAAK,EAAE,KAAKC,KAAL,CAAWT,KADpB;AAEE,MAAA,OAAO,EAAEb,OAFX;AAGE,MAAA,QAAQ,EAAE,KAAKmB,QAHjB;AAIE,MAAA,UAAU,EAAE,KAAKlB,UAJnB;AAKE,MAAA,SAAS,EAAC,YALZ;AAME,MAAA,WAAW,EAAC,oBANd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAvCF,EAkDE;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,SAAS,EAAC,YAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAlDF,CAFF,CADF,CADF;AA6DD;;AA/HuC;;AAkI1CI,WAAW,CAAC2B,SAAZ,GAAwB;AACtBpD,EAAAA,UAAU,EAAEF,SAAS,CAACuD,IAAV,CAAeC,UADL;AAEtBC,EAAAA,IAAI,EAAEzD,SAAS,CAACS,MAAV,CAAiB+C,UAFD;AAGtBX,EAAAA,MAAM,EAAE7C,SAAS,CAACS,MAAV,CAAiB+C;AAHH,CAAxB;;AAMA,MAAME,eAAe,GAAGd,KAAK,KAAK;AAChCa,EAAAA,IAAI,EAAEb,KAAK,CAACa,IADoB;AAEhCZ,EAAAA,MAAM,EAAED,KAAK,CAACC;AAFkB,CAAL,CAA7B;;AAKA,eAAe5C,OAAO,CACpByD,eADoB,EAEpB;AAAExD,EAAAA;AAAF,CAFoB,CAAP,CAGbyB,WAHa,CAAf","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { addArticle } from \"../../actions/articleActions\";\nimport { Editor } from \"slate-react\";\nimport { Value } from \"slate\";\n\nconst initialValue = Value.fromJSON({\n  document: {\n    nodes: [\n      {\n        object: \"block\",\n        type: \"paragraph\",\n        nodes: [\n          {\n            object: \"text\",\n            text: \"A line of text in a paragraph.\"\n          }\n        ]\n      }\n    ]\n  }\n});\n\nfunction MarkHotkey(options) {\n  const { type, key } = options;\n\n  // Return our \"plugin\" object, containing the `onKeyDown` handler.\n  return {\n    onKeyDown(event, editor, next) {\n      // If it doesn't match our `key`, let other plugins handle it.\n      if (!event.ctrlKey || event.key != key) return next();\n\n      // Prevent the default characters from being inserted.\n      event.preventDefault();\n\n      // Toggle the mark `type`.\n      editor.toggleMark(type);\n    }\n  };\n}\n\nconst plugins = [\n  MarkHotkey({ key: \"b\", type: \"bold\" }),\n  MarkHotkey({ key: \"`\", type: \"code\" }),\n  MarkHotkey({ key: \"i\", type: \"italic\" }),\n  MarkHotkey({ key: \"~\", type: \"strikethrough\" }),\n  MarkHotkey({ key: \"u\", type: \"underline\" })\n];\n\nrenderMark = (props, editor, next) => {\n  switch (props.mark.type) {\n    case \"bold\":\n      return <strong>{props.children}</strong>;\n    // Add our new mark renderers...\n    case \"code\":\n      return <code>{props.children}</code>;\n    case \"italic\":\n      return <em>{props.children}</em>;\n    case \"strikethrough\":\n      return <del>{props.children}</del>;\n    case \"underline\":\n      return <u>{props.children}</u>;\n    default:\n      return next();\n  }\n};\n\nclass ArticleForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      title: \"\",\n      imgSource: \"\",\n      image: \"\",\n      value: initialValue,\n      category: \"\",\n      errors: {}\n    };\n\n    this.onChangeTitle = this.onChangeTitle.bind(this);\n    this.onChangeImgSource = this.onChangeImgSource.bind(this);\n    this.onChangeImage = this.onChangeImage.bind(this);\n    this.onChangeCategory = this.onChangeCategory.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (newProps) {\n      this.setState({ errors: newProps.errors });\n    }\n  }\n\n  onChangeTitle = e => {\n    this.setState({ title: e.target.value });\n  };\n\n  onChangeImgSource = e => {\n    this.setState({ imgSource: e.target.value });\n  };\n\n  onChangeImage = e => {\n    this.setState({ image: e.target.files[0] });\n  };\n\n  onChange = value => {\n    this.setState({ value });\n  };\n\n  onChangeCategory = e => {\n    this.setState({ category: e.target.value });\n  };\n\n  onSubmit(e) {\n    e.preventDefault();\n\n    let formData = new FormData();\n    formData.append(\"title\", this.state.title);\n    formData.append(\"image\", this.state.image);\n    formData.append(\"imgSource\", this.state.imgSource);\n    formData.append(\"value\", this.state.value);\n    formData.append(\"category\", this.state.category);\n\n    this.props.addArticle(formData);\n    this.setState({\n      title: \"\",\n      imgSource: \"\",\n      image: \"\",\n      value: \"\",\n      category: \"\"\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"form-container\">\n        <div className=\"login\">\n          <h3 className>Create A New Article</h3>\n          <form\n            className=\"form\"\n            onSubmit={this.onSubmit}\n            encType=\"multipart/form-data\"\n          >\n            <label className=\"form__label\">Article Title</label>\n            <div className=\"form__group\">\n              <input\n                type=\"text\"\n                placeholder=\"Enter Article Title\"\n                value={this.state.title}\n                onChange={this.onChangeTitle}\n                className=\"form__input\"\n              />\n            </div>\n            <div className=\"form__group\">\n              <label className=\"form__label\">Upload Image</label>\n              <input type=\"file\" onChange={this.onChangeImage} />\n            </div>\n            <div className=\"form__group\">\n              <label className=\"form__label\">Image Source</label>\n              <input\n                type=\"text\"\n                placeholder=\"Enter Image Source\"\n                value={this.state.imgSource}\n                onChange={this.onChangeImgSource}\n                className=\"form__input\"\n              />\n            </div>\n            <label className=\"form__label\">Article Category</label>\n            <div className=\"form__group\">\n              <input\n                type=\"text\"\n                placeholder=\"Enter Article Category\"\n                className=\"form__input\"\n                onChange={this.onChangeCategory}\n                value={this.state.category}\n              />\n            </div>\n            <div className=\"form__group\">\n              <label className=\"form__label\">Content</label>\n              <Editor\n                value={this.state.value}\n                plugins={plugins}\n                onChange={this.onChange}\n                renderMark={this.renderMark}\n                className=\"form__text\"\n                placeholder=\"Write something...\"\n              />\n            </div>\n            <button type=\"submit\" className=\"submit-btn\">\n              Submit\n            </button>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nArticleForm.propTypes = {\n  addArticle: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n});\n\nexport default connect(\n  mapStateToProps,\n  { addArticle }\n)(ArticleForm);\n"]},"metadata":{},"sourceType":"module"}