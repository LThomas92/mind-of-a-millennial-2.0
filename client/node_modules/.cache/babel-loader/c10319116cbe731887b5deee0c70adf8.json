{"ast":null,"code":"var _jsxFileName = \"/Users/Lawrence/Desktop/mind-of-a-millennial/client/src/components/articles/ArticleForm.js\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { Editor } from \"@tinymce/tinymce-react\";\nimport { addArticle } from \"../../actions/articleActions\";\n\nclass ArticleForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onChangeImage = e => {\n      this.setState({\n        image: e.target.files[0]\n      });\n    };\n\n    this.handleEditorChange = content => {\n      this.setState({\n        text: content\n      });\n    };\n\n    this.state = {\n      title: \"\",\n      imgSource: \"\",\n      image: \"\",\n      text: \"\",\n      errors: {}\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onChangeImage = this.onChangeImage.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (newProps) {\n      this.setState({\n        errors: newProps.errors\n      });\n    }\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const user = this.props.auth.user;\n    let formData = new FormData();\n    formData.append(\"title\", this.state.title);\n    formData.append(\"image\", this.state.image);\n    formData.append(\"imgSource\", this.state.imgSource);\n    formData.append(\"text\", this.state.text);\n    this.props.addArticle(formData);\n    this.setState({\n      title: \"\",\n      imgSource: \"\",\n      image: \" \",\n      text: \"\"\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"form-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"form\",\n      onSubmit: this.onSubmit,\n      encType: \"multipart/form-data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form__group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Enter Article Title\",\n      onChange: this.onChange,\n      className: \"form__input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form__group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"form__label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Upload Image\"), React.createElement(\"input\", {\n      type: \"file\",\n      onChange: this.onChangeImage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form__group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Enter Image Source\",\n      onChange: this.onChange,\n      className: \"form__input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form__group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(Editor, {\n      apiKey: \"rjadl5gyw4unfkgc83yjhwi2r89t35m1z43bun15yohisplr\",\n      init: {\n        forced_root_block: \"\",\n        plugins: \"advlist autolink autoresize lists link image charmap print\"\n      },\n      value: this.state.text,\n      className: \"form__input\",\n      onEditorChange: this.handleEditorChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"submit-btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Submit\"))));\n  }\n\n}\n\nArticleForm.propTypes = {\n  addArticle: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n});\n\nexport default connect(mapStateToProps, {\n  addArticle\n})(ArticleForm);","map":{"version":3,"sources":["/Users/Lawrence/Desktop/mind-of-a-millennial/client/src/components/articles/ArticleForm.js"],"names":["React","PropTypes","connect","Editor","addArticle","ArticleForm","Component","constructor","props","onChange","e","setState","target","name","value","onChangeImage","image","files","handleEditorChange","content","text","state","title","imgSource","errors","bind","onSubmit","componentWillReceiveProps","newProps","preventDefault","user","auth","formData","FormData","append","render","forced_root_block","plugins","propTypes","func","isRequired","object","mapStateToProps"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { Editor } from \"@tinymce/tinymce-react\";\nimport { addArticle } from \"../../actions/articleActions\";\n\nclass ArticleForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      title: \"\",\n      imgSource: \"\",\n      image: \"\",\n      text: \"\",\n      errors: {}\n    };\n\n    this.onChange = this.onChange.bind(this);\n    this.onChangeImage = this.onChangeImage.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (newProps) {\n      this.setState({ errors: newProps.errors });\n    }\n  }\n\n  onChange = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  onChangeImage = e => {\n    this.setState({ image: e.target.files[0] });\n  };\n\n  onSubmit(e) {\n    e.preventDefault();\n\n    const { user } = this.props.auth;\n\n    let formData = new FormData();\n    formData.append(\"title\", this.state.title);\n    formData.append(\"image\", this.state.image);\n    formData.append(\"imgSource\", this.state.imgSource);\n    formData.append(\"text\", this.state.text);\n\n    this.props.addArticle(formData);\n    this.setState({ title: \"\", imgSource: \"\", image: \" \", text: \"\" });\n  }\n\n  handleEditorChange = content => {\n    this.setState({ text: content });\n  };\n\n  render() {\n    return (\n      <div className=\"form-container\">\n        <div className=\"login\">\n          <form\n            className=\"form\"\n            onSubmit={this.onSubmit}\n            encType=\"multipart/form-data\"\n          >\n            <div className=\"form__group\">\n              <input\n                type=\"text\"\n                placeholder=\"Enter Article Title\"\n                onChange={this.onChange}\n                className=\"form__input\"\n              />\n            </div>\n            <div className=\"form__group\">\n              <label className=\"form__label\">Upload Image</label>\n              <input type=\"file\" onChange={this.onChangeImage} />\n            </div>\n            <div className=\"form__group\">\n              <input\n                type=\"text\"\n                placeholder=\"Enter Image Source\"\n                onChange={this.onChange}\n                className=\"form__input\"\n              />\n            </div>\n\n            <div className=\"form__group\">\n              <Editor\n                apiKey=\"rjadl5gyw4unfkgc83yjhwi2r89t35m1z43bun15yohisplr\"\n                init={{\n                  forced_root_block: \"\",\n                  plugins:\n                    \"advlist autolink autoresize lists link image charmap print\"\n                }}\n                value={this.state.text}\n                className=\"form__input\"\n                onEditorChange={this.handleEditorChange}\n              />\n            </div>\n            <button type=\"submit\" className=\"submit-btn\">\n              Submit\n            </button>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nArticleForm.propTypes = {\n  addArticle: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n});\n\nexport default connect(\n  mapStateToProps,\n  { addArticle }\n)(ArticleForm);\n"]},"metadata":{},"sourceType":"module"}