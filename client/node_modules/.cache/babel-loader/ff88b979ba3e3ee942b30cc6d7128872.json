{"ast":null,"code":"var _jsxFileName = \"/Users/Lawrence/Desktop/mind-of-a-millennial/client/src/components/Login.js\";\nimport React from \"react\";\nimport AxiosAPI from \"./AxiosAPI\";\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n\n    this.onChangeUsername = e => {\n      this.setState({\n        username: e.target.value\n      });\n    };\n\n    this.onChangePassword = e => {\n      this.setState({\n        password: e.target.value\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const _this$state = this.state,\n            username = _this$state.username,\n            password = _this$state.password;\n      AxiosAPI.post('/api/auth/login', {\n        username,\n        password\n      }).then(result => {\n        localStorage.setItem('jwtToken', result.data.token);\n        this.setState({\n          message: ''\n        });\n        this.props.history.push('/');\n      }).catch(error => {\n        if (error.response.status === 401) {\n          this.setState({\n            message: 'Login failed. Username or password not match'\n          });\n        }\n      });\n    };\n\n    this.onChangeUsername = this.onChangeUsername.bind(this);\n    this.onChangePassword = this.onChangePassword.bind(this);\n    this.state = {\n      username: '',\n      password: '',\n      message: ''\n    };\n  }\n\n  render() {\n    const _this$state2 = this.state,\n          username = _this$state2.username,\n          password = _this$state2.password,\n          message = _this$state2.message;\n    return React.createElement(\"section\", {\n      className: \"section-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"login__form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"form\",\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, message !== '' && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, message), React.createElement(\"div\", {\n      className: \"u-margin-bottom-medium\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"heading-secondary u-center-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"Login\")), React.createElement(\"div\", {\n      className: \"form__group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form__input\",\n      placeholder: \"Username\",\n      id: \"username\",\n      required: true,\n      value: username,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"form__label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"Username\")), React.createElement(\"div\", {\n      className: \"form__group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form__input\",\n      placeholder: \"Password\",\n      id: \"email\",\n      required: true,\n      value: password,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"form__label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Password\")), React.createElement(\"button\", {\n      className: \"btn btn--white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Login\")))))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/Lawrence/Desktop/mind-of-a-millennial/client/src/components/Login.js"],"names":["React","AxiosAPI","Login","Component","constructor","onChangeUsername","e","setState","username","target","value","onChangePassword","password","onSubmit","preventDefault","state","post","then","result","localStorage","setItem","data","token","message","props","history","push","catch","error","response","status","bind","render","onChange"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport AxiosAPI from \"./AxiosAPI\";\n\nclass Login extends React.Component {\n\n  constructor() {\n    super();\n\n    this.onChangeUsername = this.onChangeUsername.bind(this);\n    this.onChangePassword = this.onChangePassword.bind(this);\n\n    this.state = {\n      username: '',\n      password: '',\n      message: ''\n    };\n  }\n \n  onChangeUsername = (e) => {\n    this.setState({ username: e.target.value});\n  }\n\n  onChangePassword = (e) => {\n    this.setState({ password: e.target.value});\n  }\n\n  onSubmit = (e) => {\n    e.preventDefault();\n\n    const { username, password } = this.state;\n\n    AxiosAPI.post('/api/auth/login', { username, password })\n      .then((result) => {\n        localStorage.setItem('jwtToken', result.data.token);\n        this.setState({ message: '' });\n        this.props.history.push('/')\n      })\n      .catch((error) => {\n        if(error.response.status === 401) {\n          this.setState({ message: 'Login failed. Username or password not match' });\n        }\n      });\n  }\n\n  render() {\n    const { username, password, message} = this.state;\n      return (\n        <section className=\"section-form\">\n          <div className=\"row\">\n            <div className=\"login\">\n              <div className=\"login__form\">\n                <div className=\"container\">\n                  <form className=\"form\" onSubmit ={this.onSubmit} >\n                  {message !== '' &&\n                    <div>\n                      {message}\n                    </div>\n                  }\n                    <div className=\"u-margin-bottom-medium\">\n                      <h2 className=\"heading-secondary u-center-text\">Login</h2>\n                    </div>\n                    <div className=\"form__group\">\n                      <input\n                        type=\"text\"\n                        className=\"form__input\"\n                        placeholder=\"Username\"\n                        id=\"username\"\n                        required\n                        value={username}\n                        onChange={this.onChange}\n                      />\n                      <label className=\"form__label\">Username</label>\n                    </div>\n                    <div className=\"form__group\">\n                      <input\n                        type=\"password\"\n                        className=\"form__input\"\n                        placeholder=\"Password\"\n                        id=\"email\"\n                        required\n                        value={password}\n                        onChange={this.onChange}\n                      />\n                      <label className=\"form__label\">Password</label>\n                    </div>\n                    <button\n                      className=\"btn btn--white\"\n                    >\n                      Login\n                    </button>\n                  </form>\n                </div>\n              </div>\n            </div>\n          </div>\n        </section>\n      );\n    }\n  }\n\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}