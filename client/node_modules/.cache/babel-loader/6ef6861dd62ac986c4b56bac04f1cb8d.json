{"ast":null,"code":"var _jsxFileName = \"/Users/Lawrence/Desktop/mind-of-a-millennial/client/src/components/Login.js\";\nimport React from \"react\";\nimport { Link } from \"react-dom\";\nimport AxiosAPI from \"./AxiosAPI\";\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n\n    this.onChange = e => {\n      const state = this.state;\n      state[e.target.name] = e.target.value;\n      this.setState(state);\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const _this$state = this.state,\n            username = _this$state.username,\n            password = _this$state.password;\n      AxiosAPI.post(\"/api/auth/login\", {\n        username,\n        password\n      }).then(result => {\n        localStorage.setItem(\"jwtToken\", result.data.token);\n        this.setState({\n          message: \"\"\n        });\n        this.props.history.push(\"/\");\n      }).catch(error => {\n        if (error.response.status === 401) {\n          this.setState({\n            message: \"Login failed. Username or password not match\"\n          });\n        }\n      });\n    };\n\n    this.state = {\n      username: \"\",\n      password: \"\",\n      message: \"\"\n    };\n  }\n\n  render() {\n    const _this$state2 = this.state,\n          username = _this$state2.username,\n          password = _this$state2.password,\n          message = _this$state2.message;\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      className: \"form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"u-margin-bottom-medium\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"heading-secondary u-center-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"Login\")), React.createElement(\"div\", {\n      className: \"form__group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      class: \"form__input\",\n      placeholder: \"Username\",\n      id: \"username\",\n      required: true,\n      value: username,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"username\",\n      class: \"form__label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"Username\")), React.createElement(\"div\", {\n      className: \"form__group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"password\",\n      class: \"form__input\",\n      placeholder: \"Password\",\n      id: \"email\",\n      required: true,\n      value: password,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"password\",\n      class: \"form__label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Password\")), React.createElement(Link, {\n      to: \"#\",\n      className: \"btn btn--white btn--animated\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Login\")));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/Lawrence/Desktop/mind-of-a-millennial/client/src/components/Login.js"],"names":["React","Link","AxiosAPI","Login","Component","constructor","onChange","e","state","target","name","value","setState","onSubmit","preventDefault","username","password","post","then","result","localStorage","setItem","data","token","message","props","history","push","catch","error","response","status","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-dom\";\nimport AxiosAPI from \"./AxiosAPI\";\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      username: \"\",\n      password: \"\",\n      message: \"\"\n    };\n  }\n  onChange = e => {\n    const state = this.state;\n    state[e.target.name] = e.target.value;\n    this.setState(state);\n  };\n\n  onSubmit = e => {\n    e.preventDefault();\n\n    const { username, password } = this.state;\n\n    AxiosAPI.post(\"/api/auth/login\", { username, password })\n      .then(result => {\n        localStorage.setItem(\"jwtToken\", result.data.token);\n        this.setState({ message: \"\" });\n        this.props.history.push(\"/\");\n      })\n      .catch(error => {\n        if (error.response.status === 401) {\n          this.setState({\n            message: \"Login failed. Username or password not match\"\n          });\n        }\n      });\n  };\n\n  render() {\n    const { username, password, message } = this.state;\n    return (\n      <div className=\"container\">\n        <form onSubmit={this.onSubmit} className=\"form\">\n          <div className=\"u-margin-bottom-medium\">\n            <h2 className=\"heading-secondary u-center-text\">Login</h2>\n          </div>\n          <div className=\"form__group\">\n            <input\n              type=\"text\"\n              class=\"form__input\"\n              placeholder=\"Username\"\n              id=\"username\"\n              required\n              value={username}\n            />\n            <label for=\"username\" class=\"form__label\">\n              Username\n            </label>\n          </div>\n          <div className=\"form__group\">\n            <input\n              type=\"password\"\n              class=\"form__input\"\n              placeholder=\"Password\"\n              id=\"email\"\n              required\n              value={password}\n            />\n            <label for=\"password\" class=\"form__label\">\n              Password\n            </label>\n          </div>\n          <Link to=\"#\" className=\"btn btn--white btn--animated\">\n            Login\n          </Link>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}